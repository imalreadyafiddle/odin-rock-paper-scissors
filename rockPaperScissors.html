<!DOCTYPE html>
<html lang = "en">
    <head>

    </head>
    <body>
        <script>

function getComputerChoice() {
    let choiceNumber = Math.random()*100;
    let computerChoice = "";
    if (choiceNumber <= 33) {
        computerChoice = "rock"
    } else if (choiceNumber >= 34 && choiceNumber <=66) {
        computerChoice = "paper"
    } else {
        computerChoice = "scissors"
    }
    console.log("Computer Chose: "+ computerChoice);
    return computerChoice;
}

function getPlayerChoice () {
    let playerChoice = "" 
    playerChoice = prompt("Rock, Paper, or Scissors? Best of Five Wins!");
    playerChoice = playerChoice.toLowerCase();
    console.log("Player Chose: "+ playerChoice);
    return playerChoice;
}

function playRound (playerSelection, computerSelection) {
    // console.log("Comparing " + playerSelection + " to " + computerSelection);
    if (playerSelection == "rock" && computerSelection == "paper") {
        console.log("You lose, paper beats rock.")
        return "lose";
    } else if (playerSelection == "rock" && computerSelection == "scissors") {
        console.log("You win, rock beats scissors.")
        return "win";
    } else if (playerSelection == "paper" && computerSelection == "scissors") {
        console.log("You lose, scissors beats paper.");
        return "lose";
    } else if (playerSelection == "paper" && computerSelection == "rock") {
        console.log("You win, paper beats rock.");
        return "win";
    } else if (playerSelection == "scissors" && computerSelection == "rock") {
        console.log("You lose, rock beats scissors.");
        return "lose";
    } else if (playerSelection == "scissors" && computerSelection == "paper") {
        console.log("You win, scissors beats paper.");
        return "win";
    } else if (playerSelection == computerSelection) {
        console.log("Tie, try again!")
        return "tie";
    } else {
        console.log("You entered an invalid choice, please try again\n");
        return "invalid";
        // Maybe kick this back to getPlayerChoice? Why run another function if the input is invalid?
    }
}

function game () {
    let playerScore = 0;
    let computerScore = 0;
    for (roundCount = 1; roundCount < 6; roundCount+= 0) {
    console.log("Round: " + roundCount + "\nPlayer Score: " + playerScore + "\nComputer Score: " + computerScore)
    let result = playRound(getPlayerChoice(), getComputerChoice());
        if (result == "win") {
            ++playerScore;
            ++roundCount;
        } else if (result == "lose") {
            ++computerScore;
            ++roundCount;
        }   else {
            continue;
        }
    } 

    if (playerScore >= 3) {
        console.log("FINAL SCORE \n Player: " + playerScore + ", Computer: " + computerScore);
        console.log("Congrats, you won!");
    } else {
        console.log("Final Score, Player: " + playerScore + ", Computer: " + computerScore);
        console.log("You lose, reload to try again!");
    }
}
    
game();
        </script>
    </body>
</html>